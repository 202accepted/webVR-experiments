<!doctype html>
<html>
<head>
   <title>11 - Transitions</title>
   <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1">
   <script src="bower_components/aframe/dist/aframe-v0.2.0.min.js"></script>
   <script src="bower_components/Keypress/keypress.js"></script>
   <script src="js/global-functions.js"></script>
   <style>
   *{
      /*cursor: none;*/
   }
   </style>

</head>
<body>

   <a-scene>

      <!--

      Credits

      -->

      <!--
         Dark Blue:  006ba6
         Blue:       0496ff
         Yellow:     ffbc42
         Pink:       d81159
         Plum:       8f2d56
      -->

      <a-assets>

      </a-assets>

      <!-- Global Settings -->
      <a-sky color="#ffbc42"></a-sky>

      <a-plane height="20" width="20" material="color: #006ba6" rotation="-90 0 0" position="0 0 0"></a-plane>

      <!-- Human Camera -->
      <a-camera id="human-camera" position="0 1.7 0" active="true" near=".05">
         <a-entity cursor="fuse: false" position="0 0 -.5" geometry="primitive: plane; height: .005; width: .005"  material="color: #fff"></a-entity>
      </a-camera>

      <!-- World Elements -->
      <a-entity id="world">

         <a-box   class="target"
                  height="1"
                  width="2"
                  depth="1"
                  color="#d81159"
                  position="1 1 -3">
            <!-- <a-animation   attribute="scale"
                           direction="alternate"
                           dur="150"
                           easing="ease-in-sine"
                           repeat="indefinite"
                           to="1.2 1 1.2"> -->
            </a-animation>
         </a-box>

      </a-entity>

   </a-scene>


   <script>

      var settings = {

         // Auto-enter VR
         enterVR: false,

         // Auto-reload, uses reloadTime
         reload: false,

         // In seconds
         reloadTime: 20

      }



      /*
         Setup global variables
      */
      var scene = document.querySelector('a-scene');
      var world = document.querySelector('#world');
      var camera = document.querySelector('a-camera');
      var cameraLastPosition = camera.getAttribute('position');

      /*
         Add event listener to run after scene is loaded
      */
      scene.addEventListener('loaded', function(){

         devTools();

         scene.querySelector('.target').addEventListener('click', function () { // remember that this isn't an All loop
            this.setAttribute('material', 'color', 'red');
            console.log('I was clicked!');
         });

      });

      /*
         Keylistener functions
      */
      // Setup
      var keyListener = new window.keypress.Listener();

      keyListener.simple_combo('1', function(){
         transitionJump({x:1, y:2, z:3});
      });

      function setCameraLastPosition(){
         cameraLastPosition = camera.getAttribute('position');
      }

      function transitionJump(position){
         setCameraLastPosition();

         camera.setAttribute('position', position);
      }
   </script>
   </body>
</html>
